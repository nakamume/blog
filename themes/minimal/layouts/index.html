{{ define "main" }}
<div class="home">
  <section class="hero">
    <h1>{{ .Site.Params.heroTitle | default .Site.Title }}</h1>
    <p class="tagline">{{ .Site.Params.heroTagline }}</p>
  </section>

  {{ .Content }}

  <section class="blog-sections">
    <h2>Blogs</h2>
    <div class="sections-grid">
      {{ range .Site.Params.blogSections }}
      <div class="section-card">
        <h3><a href="{{ .url }}">{{ .name }}</a></h3>
        <p>{{ .description }}</p>
      </div>
      {{ end }}
    </div>
  </section>

  <section class="recent-posts">
    <h2>Recent Posts</h2>
    <ul class="post-list">
      {{ range first 3 (where .Site.RegularPages "Section" "ne" "") }}
      {{ partial "post-item.html" (dict "Page" . "showSection" true) }}
      {{ end }}
    </ul>
  </section>
</div>
{{ end }}
